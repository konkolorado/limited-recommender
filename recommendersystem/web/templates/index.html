{% extends "base.html" %}

{% block content %}

<div class=container>
    <ul class="nav nav-tabs" id="model-tabs">
        <li class="{% if book_active %}active{% endif %}">
            <a data-toggle="tab" href="#books">Books</a>
        </li>
        <li class="{% if user_active %}active{% endif %}">
            <a data-toggle="tab" href="#users">Users</a>
        </li>
        <li class="{% if rating_active %}active{% endif %}">
            <a data-toggle="tab" href="#ratings">Ratings</a>
        </li>
    </ul>

    <div class="tab-content">
        <div id="books" class="tab-pane fade {% if book_active %}in active{% endif %}">
            <div class="list-group">
                {% for book in books %}
                    {% url 'book-detail' book.pk as book_detail_url %}
                        <a href="{{ book_detail_url }}" class="list-group-item">
                            <h5>{{ book.title }}</h5>
                            <p>{{ book.author }}</p>
                        </a>
                {% endfor %}
                {% include "step_links_pagination.html" with page_query="book_page" paged_object=books%}
            </div>
        </div>
        <div id="users" class="tab-pane fade {% if user_active %}in active{% endif %}">
            <div class="list-group">
                {% for user in users %}
                    {% url 'user-detail' user.pk as user_detail_url %}
                        <a href="{{ user_detail_url }}" class="list-group-item">
                            <h5>User {{ user.user_id }}</h5>
                            <p> Age {{ user.age}} from {{ user.location }} </p>
                        </a>
                {% endfor %}
                {% include "step_links_pagination.html" with page_query="user_page" paged_object=users%}
            </div>
        </div>
        <div id="ratings" class="tab-pane fade {% if rating_active %}in active{% endif %}">
            <div class="list-group">
                {% for rating in ratings %}
                    {% url 'rating-detail' rating.pk as rating_detail_url %}
                    <a href="{{ rating_detail_url }}" class="list-group-item">
                        <h5>{{ rating.rating }}</h5>
                        <p>User {{ rating.user_id.user_id }}</p>
                        <p>{{ rating.isbn.title }}</p>
                    </a>
                {% endfor %}
                {% include "step_links_pagination.html" with page_query="rating_page" paged_object=ratings%}
            </div>
        </div>
    </div>
</div>

{% endblock content %}
