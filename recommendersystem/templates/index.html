{% extends "base.html" %}

{% block content %}

<div class=container>
  <ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link {% if book_active %}active{% endif %}" id="books-tab" data-toggle="tab" href="#books" role="tab" aria-controls="books" aria-selected="true">Books</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if user_active %}active{% endif %}" id="users-tab" data-toggle="tab" href="#users" role="tab" aria-controls="users" aria-selected="false">Users</a>
    </li>
    <li class="nav-item">
      <a class="nav-link {% if rating_active %}active {% endif %}" id="ratings-tab" data-toggle="tab" href="#ratings" role="tab" aria-controls="ratings" aria-selected="false">Ratings</a>
    </li>
  </ul>

  <div class="tab-content" id="main_content">
      <div class="tab-pane fade {% if book_active %}show active{% endif %}" id="books" role="tabpanel" aria-labelledby="books-tab">
          <div class="list-group">
              {% for book in books %}
                  {% url 'book-detail' book.pk as book_detail_url %}
                      <a href="{{ book_detail_url }}" class="list-group-item">
                          <h5>{{ book.title }}</h5>
                          <p>{{ book.author }}</p>
                      </a>
              {% endfor %}
              {% include "step_links_pagination.html" with page_query="book_page" paged_object=books%}
          </div>
      </div>
      <div class="tab-pane fade show {% if user_active %}show active{% endif %}" id="users" role="tabpanel" aria-labelledby="users-tab">
          <div class="list-group">
              {% for user in users %}
                  {% url 'user-detail' user.pk as user_detail_url %}
                      <a href="{{ user_detail_url }}" class="list-group-item">
                          <h5>User {{ user.user_id }}</h5>
                          <p> Age {{ user.age}} from {{ user.location }} </p>
                      </a>
              {% endfor %}
              {% include "step_links_pagination.html" with page_query="user_page" paged_object=users%}
          </div>
      </div>
      <div class="tab-pane fade show {% if rating_active %}show active{% endif %}" id="ratings" role="tabpanel" aria-labelledby="ratings-tab">
          <div class="list-group">
              {% for rating in ratings %}
                  {% url 'rating-detail' rating.pk as rating_detail_url %}
                  <a href="{{ rating_detail_url }}" class="list-group-item">
                      <h5>{{ rating.rating }}</h5>
                      <p>User {{ rating.user_id.user_id }}</p>
                      <p>{{ rating.isbn.title }}</p>
                  </a>
              {% endfor %}
              {% include "step_links_pagination.html" with page_query="rating_page" paged_object=ratings%}
          </div>
      </div>
  </div>
</div>

{% endblock content %}
